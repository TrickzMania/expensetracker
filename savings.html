<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Tracker - Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header with Navigation -->
        <header>
            <h1>ðŸ’° Savings Tracker</h1>
            <div class="header-controls">
                <a href="index.html" class="icon-btn">ðŸ“Š Expenses</a>
                <button id="darkModeToggle" class="icon-btn">ðŸŒ™</button>
            </div>
        </header>

        <!-- Savings Summary -->
        <div class="summary-section">
            <div class="card">
                <h3>Total Savings</h3>
                <p class="amount savings-amount" id="totalSavings">â‚¹0</p>
            </div>
            <div class="card">
                <h3>This Month's Savings</h3>
                <p class="amount" id="monthSavings">â‚¹0</p>
            </div>
            <div class="card">
                <h3>Savings Goal</h3>
                <p class="amount" id="savingsGoal">â‚¹0</p>
            </div>
        </div>

        <!-- Savings Goal Section -->
        <div class="savings-goal-section card">
            <h3>Set Savings Goal</h3>
            <div class="budget-input-group">
                <input type="number" id="goalInput" placeholder="Enter your savings goal">
                <button id="setGoalBtn">Set Goal</button>
            </div>
            <div id="goalProgress" class="progress-bar-container" style="display: none;">
                <div class="progress-bar savings-progress" id="goalProgressBar"></div>
                <span id="goalProgressText">0%</span>
            </div>
            <p id="goalMessage" style="margin-top: 10px; color: var(--text-secondary); font-size: 14px;"></p>
        </div>

        <!-- Auto-Rollover Info -->
        <div class="card info-card">
            <h3>ðŸŽ¯ How Auto-Savings Works</h3>
            <div class="info-content">
                <p><strong>Automatic Budget Rollover:</strong></p>
                <p>When a new month starts, any remaining budget from the previous month is automatically transferred to your savings!</p>
                <br>
                <p><strong>Example:</strong></p>
                <ul style="margin-left: 20px; color: var(--text-secondary);">
                    <li>February Budget: â‚¹10,000</li>
                    <li>February Spending: â‚¹7,000</li>
                    <li>Remaining: â‚¹3,000</li>
                    <li>âœ… On March 1st â†’ â‚¹3,000 automatically added to savings!</li>
                </ul>
                <br>
                <p style="color: var(--success-color); font-weight: 600;">ðŸ’¡ Tip: Set a realistic budget and try to spend less to save more!</p>
            </div>
        </div>

        <!-- Manual Savings Entry -->
        <div class="add-savings-section card">
            <h3>Add Manual Savings</h3>
            <form id="savingsForm">
                <div class="form-group">
                    <label>Amount (â‚¹)</label>
                    <input type="number" id="savingsAmount" required min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <input type="text" id="savingsDescription" required placeholder="e.g., Birthday gift money, Freelance work">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="savingsDate" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isAutoRollover" disabled>
                        Auto-Rollover (checked automatically by system)
                    </label>
                </div>
                <button type="submit" class="btn-primary">Add Savings</button>
            </form>
        </div>

        <!-- Savings History -->
        <div class="savings-history-section card">
            <h3>Savings History</h3>
            <div class="filter-section">
                <select id="filterSavingsType">
                    <option value="all">All Savings</option>
                    <option value="auto">Auto-Rollover Only</option>
                    <option value="manual">Manual Savings Only</option>
                </select>
                <input type="month" id="filterSavingsMonth">
            </div>
            <div id="savingsHistoryList"></div>
        </div>

        <!-- Monthly Breakdown Chart -->
        <div class="chart-section card">
            <h3>Monthly Savings Growth</h3>
            <canvas id="savingsChart"></canvas>
        </div>

        <!-- Insights -->
        <div class="insights-section card">
            <h3>ðŸ’¡ Savings Insights</h3>
            <div id="savingsInsights"></div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Configuration (LOAD FIRST) -->
    <script src="firebase-config.js"></script>
    
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Savings Script -->
    <script src="savings.js"></script>
    
    <!-- Toast Notification Container -->
    <div id="toastContainer"></div>
</body>
</html>